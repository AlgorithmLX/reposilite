var he=Object.defineProperty;var oe=Object.getOwnPropertySymbols;var ve=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable;var ne=(o,t,a)=>t in o?he(o,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[t]=a,se=(o,t)=>{for(var a in t||(t={}))ve.call(t,a)&&ne(o,a,t[a]);if(oe)for(var a of oe(t))be.call(t,a)&&ne(o,a,t[a]);return o};import{r as M,a as ae,u as ye,w as j,d as ke,b as xe,c as m,o as d,e as _,f as g,g as i,t as w,h as C,n as $e,i as re,M as we,T as Ie,j as h,k as v,l as Te,m as D,v as H,p as Ee,q as O,s as le,x as ie,y as q,z as E,A as z,P as Le,B as N,C as Y,F as V,D as A,E as Se,G as Ce,H as Me,I as Oe,J as qe,K as Ve,L as Ae,N as Pe,O as Re,Q as Be,R as je}from"./vendor.091cb6a7.js";const De=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))e(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const n of l.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&e(n)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerpolicy&&(l.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?l.credentials="include":s.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function e(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}};De();const R=M({isDark:!1}),ce="dark-theme";function de(){return{theme:R,fetchTheme:()=>{R.isDark=localStorage.getItem(ce)==="true"},toggleTheme:()=>{R.isDark=!R.isDark,localStorage.setItem(ce,R.isDark)}}}function P(){const o=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH"),t=o?"{{REPOSILITE.BASE_PATH}}":"/",a=o?"{{REPOSILITE.ID}}":"reposilite-repository",e=o?"{{REPOSILITE.TITLE}}":"Reposilite Repository",s=o?"{{REPOSILITE.DESCRIPTION}}":"Public Maven repository hosted through the Reposilite",l=o?"{{REPOSILITE.ORGANIZATION_WEBSITE}}":location.protocol+"//"+location.host+t;return{available:o,basePath:t,id:a,title:e,description:s,organizationWebsite:l,organizationLogo:o?"{{REPOSILITE.ORGANIZATION_LOGO}}":"https://avatars.githubusercontent.com/u/75123628?s=200&v=4",icpLicense:o?"{{REPOSILITE.ICP_LICENSE}}":"\u56FDICP\u5907000000000\u53F7"}}const{basePath:He}=P(),Z=()=>window.location.protocol+"//"+location.host+He,ze=()=>Z().endsWith("/")?Z().slice(0,-1):Z(),U=o=>ze()+o,J=(o,t)=>{const a=()=>o&&t?e(o,t):{},e=(n,r)=>({headers:{Authorization:`xBasic ${btoa(`${n}:${r}`)}`}}),s=(n,r)=>(r=r||a(),ae.get(U(n),se({},r)));return{createURL:U,client:{auth:{me(n,r){return s("/api/auth/me",e(n,r))}},console:{},maven:{content(n){return s(`/${n}`)},details(n){return s(`/api/maven/details/${n||""}`)}}}}},L="",ue="session-token-name",pe="session-token-secret",Ne="access-token:manager",W=M({name:L,secret:L}),_e={id:L,name:L,createdAt:L,permissions:[],routes:[]},G=M({details:_e});function B(){const o=(n,r)=>{localStorage.setItem(ue,n),W.name=n,localStorage.setItem(pe,r),W.secret=r},t=()=>{o(L,L),G.details=_e},a=async(n,r)=>{try{const{client:u}=J();if(n==L)throw new Error("Missing credentials");const c=await u.auth.me(n,r);return o(n,r),G.details=c.data,{token:W,session:G}}catch(u){throw t(),u}};return{token:W,session:G,login:a,logout:t,fetchSession:()=>a(localStorage.getItem(ue),localStorage.getItem(pe)),isLogged:n=>(n==null?void 0:n.name)!=L,isManager:n=>{var r;return(r=n==null?void 0:n.permissions)==null?void 0:r.find(u=>u.identifier==Ne)}}}const K=M({watchable:0,path:""});function Ue(o){const t=ye();return j(()=>t.params.qualifier,a=>{K.path=a,K.watchable++},{immediate:!0}),j(()=>o.name,a=>K.watchable++),{qualifier:K}}var b=(o,t)=>{for(const[a,e]of t)o[a]=e;return o};const We=ke({setup(){const{title:o,description:t,organizationLogo:a,icpLicense:e}=P();xe({title:o,description:t});const{theme:s,fetchTheme:l}=de(),{fetchSession:n,token:r,session:u}=B(),{qualifier:c}=Ue(r);return l(),n().catch(f=>{}),{theme:s,qualifier:c,token:r,session:u,icpLicense:e}}}),Ge={key:0,class:"absolute bottom-4 w-full text-center text-xs"},Ke={href:"https://beian.miit.gov.cn",target:"_blank"};function Fe(o,t,a,e,s,l){const n=m("router-view");return d(),_("div",{class:$e({dark:o.theme.isDark})},[g(n,{class:"min-h-screen dark:bg-black dark:text-white",qualifier:o.qualifier,token:o.token,session:o.session},null,8,["qualifier","token","session"]),o.icpLicense?(d(),_("div",Ge,[i("a",Ke,w(o.icpLicense),1)])):C("",!0)],2)}var Qe=b(We,[["render",Fe]]);const Ye={},Ze={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Je=i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),Xe=[Je];function et(o,t){return d(),_("svg",Ze,Xe)}var tt=b(Ye,[["render",et]]);const ot={components:{GlobeIcon:tt},setup(){const{description:o,organizationWebsite:t,organizationLogo:a}=P();return{description:o,organizationWebsite:t,organizationLogo:a}}},nt={class:"bg-gray-100 dark:bg-black"},st={class:"container mx-auto flex flex-row"},at={class:"w-35"},rt=["src"],lt={class:"flex flex-col justify-center px-10"},it={class:"flex flex-row py-2"},ct=["href"];function dt(o,t,a,e,s,l){const n=m("GlobeIcon");return d(),_("div",nt,[i("div",st,[i("div",at,[i("img",{class:"border-2 rounded-full dark:border-gray-700",src:e.organizationLogo},null,8,rt)]),i("div",lt,[i("div",null,[i("p",null,w(e.description),1)]),i("div",it,[g(n),i("a",{class:"px-3 text-gray-500",href:e.organizationWebsite},w(e.organizationWebsite),9,ct)])])])])}var ut=b(ot,[["render",dt]]);const pt={},_t={class:"mx-2 py-1.5 rounded-full bg-white dark:bg-gray-900 font-bold px-6 text-sm cursor-pointer"};function mt(o,t){return d(),_("div",_t,[re(o.$slots,"default")])}var gt=b(pt,[["render",mt]]);const ft={inheritAttrs:!1,components:{VueFinalModal:we,ModalsContainer:Ie},setup(){const{login:o}=B(),t=h(!1),a=h(""),e=h(""),s=()=>t.value=!1;return{name:a,secret:e,close:s,showLogin:t,signin:(n,r)=>{o(n,r).then(u=>O(`Dashboard accessed as ${n}`,{position:"bottom-right"})).then(u=>s()).catch(u=>{console.log(u),O(`${u.response.status}: ${u.response.data.message}`,{type:"danger"})})}}}},ht=o=>(le("data-v-1d9af69e"),o=o(),ie(),o),vt={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},bt=ht(()=>i("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1)),yt={class:"text-right mt-1"};function kt(o,t,a,e,s,l){const n=m("vue-final-modal");return d(),_("div",null,[g(n,Ee({modelValue:e.showLogin,"onUpdate:modelValue":t[6]||(t[6]=r=>e.showLogin=r)},o.$attrs,{classes:"flex justify-center items-center"}),{default:v(()=>[i("div",vt,[bt,i("form",{class:"flex flex-col w-96",onSubmit:t[4]||(t[4]=Te(r=>e.signin(e.name,e.secret),["prevent"]))},[D(i("input",{placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=r=>e.name=r),type:"text",class:"input"},null,512),[[H,e.name]]),D(i("input",{placeholder:"Secret","onUpdate:modelValue":t[1]||(t[1]=r=>e.secret=r),type:"password",class:"input"},null,512),[[H,e.secret]]),i("div",yt,[i("button",{onClick:t[2]||(t[2]=r=>e.close()),class:"text-blue-400 text-xs"},"\u2190 Back to index")]),i("div",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer",onClick:t[3]||(t[3]=r=>e.signin(e.name,e.secret))},"Sign in")],32),i("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:t[5]||(t[5]=r=>e.close())},"\u{1F5D9}")])]),_:1},16,["modelValue"]),i("div",{onClick:t[7]||(t[7]=r=>e.showLogin=!0)},[re(o.$slots,"button",{},void 0,!0)])])}var xt=b(ft,[["render",kt],["__scopeId","data-v-1d9af69e"]]);const $t={},wt={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},It=i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),Tt=[It];function Et(o,t){return d(),_("svg",wt,Tt)}var Lt=b($t,[["render",Et]]);const St={},Ct={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Mt=i("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),Ot=[Mt];function qt(o,t){return d(),_("svg",Ct,Ot)}var Vt=b(St,[["render",qt]]);const At={components:{MenuButton:gt,LoginModal:xt,MoonIcon:Lt,SunIcon:Vt},props:{token:{type:Object,required:!0}},setup(o){const{theme:t,toggleTheme:a}=de(),{title:e}=P(),{isLogged:s,logout:l}=B(),n=o.token,r=q(()=>s(n));return{token:n,title:e,logged:r,signout:()=>l(),theme:t,toggleTheme:a}}},Pt={class:"flex flex-row"},Rt={key:0,class:"pt-1.1 px-2"},Bt=z(" Welcome "),jt={class:"font-bold underline"},Dt=z(" Sign in "),Ht=z(" Logout ");function zt(o,t,a,e,s,l){const n=m("MenuButton"),r=m("LoginModal"),u=m("SunIcon"),c=m("MoonIcon");return d(),_("nav",Pt,[e.logged?(d(),_("div",Rt,[Bt,i("span",jt,w(e.token.name),1)])):C("",!0),g(r,null,{button:v(()=>[e.logged?C("",!0):(d(),E(n,{key:0},{default:v(()=>[Dt]),_:1}))]),_:1}),e.logged?(d(),E(n,{key:1,onClick:t[0]||(t[0]=f=>e.signout())},{default:v(()=>[Ht]),_:1})):C("",!0),i("div",{class:"pl-2 pt-1.3 cursor-pointer rounded-full bg-white dark:bg-gray-900",onClick:t[1]||(t[1]=f=>e.toggleTheme())},[e.theme.isDark?(d(),E(u,{key:0,class:"mr-1.9"})):(d(),E(c,{key:1,class:"mr-1.5"}))])])}var Nt=b(At,[["render",zt]]);const Ut={components:{Hero:ut,Menu:Nt},props:{token:{type:Object,required:!0}},setup(o){const t=o.token,{title:a}=P();return{token:t,title:a}}},Wt={class:"bg-gray-100 dark:bg-black dark:text-white"},Gt={class:"container mx-auto flex flex-row py-10 justify-between"},Kt={class:"text-xl font-medium py-1"};function Ft(o,t,a,e,s,l){const n=m("router-link"),r=m("Menu"),u=m("Hero");return d(),_("header",Wt,[i("div",Gt,[i("h1",Kt,[g(n,{to:"/"},{default:v(()=>[z(w(e.title),1)]),_:1})]),g(r,{token:e.token,class:"mt-0.5"},null,8,["token"])]),g(u,{class:"pt-2 pb-11"})])}var Qt=b(Ut,[["render",Ft]]);function Yt(){return{createSnippets:(t,a,e)=>[{name:"Maven",lang:"xml",snippet:`
<dependency>
  <groupId>${t}</groupId>
  <artifactId>${a}</artifactId>
  <version>${e}</version>
</dependency>`.trim()},{name:"Gradle Groovy",lang:"xml",snippet:`implementation "${t}:${a}:${e}"`},{name:"Gradle Kotlin",lang:"kotlin",snippet:`implementation("${t}:${a}:${e}")`},{name:"SBT",lang:"scala",snippet:`"${t}" %% "${a}" %% "${e}"`}]}}function Zt(){const{id:o,title:t}=P();return{createRepositories:e=>{const s=q(()=>e.path.split("/")[0]),l=o+(e.path?`-${s.value}`:""),n=location.protocol+"//"+location.host+(e.path?`/${s.value}`:"/{repository}");return[{name:"Maven",lang:"xml",snippet:`
<repository>
  <id>${l}</id>
  <name>${t}</name>
  <url>${n}</url>
</repository>
        `.trim()},{name:"Gradle Groovy",lang:"groovy",snippet:`maven {
    url "${n}"
 }`.trim()},{name:"Gradle Kotlin",lang:"kotlin",snippet:`maven {
    url = uri("${n}")
}`},{name:"SBT",lang:"scala",snippet:`resolvers += "${l}" at "${n}"`}]}}}const Jt=new DOMParser;function Xt(){return{parseMetadata:s=>Jt.parseFromString(s,"text/xml"),groupId:s=>{var l,n;return(n=(l=s==null?void 0:s.getElementsByTagName("groupId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},artifactId:s=>{var l,n;return(n=(l=s==null?void 0:s.getElementsByTagName("artifactId")[0])==null?void 0:l.firstChild)==null?void 0:n.nodeValue},versions:s=>{var l,n,r;return(r=(n=Array.from((l=s==null?void 0:s.getElementsByTagName("versioning")[0])==null?void 0:l.children))==null?void 0:n.map(u=>u.firstChild.nodeValue))!=null?r:["{unknown}"]}}}const eo={components:{PrismEditor:Le},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,a=o.token,e=h(""),s=h([]),{createRepositories:l}=Zt(),{createSnippets:n}=Yt(),{parseMetadata:r,groupId:u,artifactId:c,versions:f}=Xt(),{client:p}=J(a.name,a.secret),x=h(localStorage.getItem("card-tab")||"Maven");N(()=>localStorage.setItem("card-tab",x.value));const S=()=>{s.value=l(t),e.value="Repository details"},I=$=>{const k=r($);s.value=n(u(k),c(k),f(k)[0]),e.value="Artifact details"};return N(()=>{const $=t.path.split("/");if($.length==1&&$[0]==""){S();return}p.maven.content(`${t.path}/maven-metadata.xml`).then(k=>I(k.data)).catch(k=>{k.message!=="Request failed with status code 404"&&console.log(k),S()})}),N(()=>{s.value.forEach($=>{$.highlighter=k=>{var T;return Y.highlight(k,(T=Y.languages[$.lang])!=null?T:Y.languages.js)}})}),{title:e,configurations:s,selectedTab:x}}},to={class:"bg-white dark:bg-gray-900 shadow-lg p-7 rounded-xl border-gray-100 dark:border-black"},oo={class:"flex flex-row justify-between"},no={class:"font-bold"},so=i("hr",{class:"dark:border-gray-800"},null,-1),ao={class:"relative h-33 mt-6 p-4 mr-1 rounded-lg bg-gray-100 dark:bg-gray-800"};function ro(o,t,a,e,s,l){const n=m("tab"),r=m("tabs"),u=m("prism-editor"),c=m("tab-panel"),f=m("tab-panels");return d(),_("div",to,[i("div",oo,[i("h1",no,w(e.title),1)]),g(r,{modelValue:e.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=p=>e.selectedTab=p),class:"pt-3"},{default:v(()=>[(d(!0),_(V,null,A(e.configurations,(p,x)=>(d(),E(n,{class:"buildtool py-1 px-2 cursor-pointer",key:`t${x}`,val:p.name,label:p.name,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"]),so,g(f,{modelValue:e.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=p=>e.selectedTab=p),animate:!0},{default:v(()=>[(d(!0),_(V,null,A(e.configurations,(p,x)=>(d(),E(c,{key:`tp${x}`,val:p.name},{default:v(()=>[i("div",ao,[g(u,{class:"snippet absolute text-sm",modelValue:p.snippet,"onUpdate:modelValue":S=>p.snippet=S,highlight:p.highlighter,readonly:"","line-numbers":""},null,8,["modelValue","onUpdate:modelValue","highlight"])])]),_:2},1032,["val"]))),128))]),_:1},8,["modelValue"])])}var lo=b(eo,[["render",ro]]);const io={props:{file:{type:Object,required:!0}},setup(o){return{file:o.file,prettyBytes:Se}}},co={class:"flex flex-row justify-between mb-1.5 py-3 rounded-full bg-white dark:bg-gray-900 lg:max-w-2/5 xl:max-w-1/2 cursor-pointer"},uo={class:"flex flex-row"},po={key:0,class:"text-xm px-6 pt-1.75"},_o={key:1,class:"text-xm px-6 pt-1.75"},mo={class:"font-semibold"},go={key:0,class:"px-6"};function fo(o,t,a,e,s,l){return d(),_("div",co,[i("div",uo,[e.file.type=="DIRECTORY"?(d(),_("div",po,"\u26AB")):(d(),_("div",_o,"\u26AA")),i("div",mo,w(e.file.name),1)]),e.file.contentLength?(d(),_("div",go,w(e.prettyBytes(e.file.contentLength)),1)):C("",!0)])}var ho=b(io,[["render",fo]]);const vo={components:{Card:lo,Entry:ho},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0}},setup(o){const t=o.qualifier,a=o.token,e=h(""),s=h([]),l=h(!1),n=h(void 0),r=c=>c.type=="DIRECTORY",u=c=>(c.endsWith("/")?c.slice(0,-1):c).split("/").slice(0,-1).join("/")||"/";return j(()=>t.watchable,async c=>{const{client:f}=J(a.name,a.secret);f.maven.details(t.path).then(p=>{s.value=p.data.files,l.value=s.value.length==0,n.value=void 0}).catch(p=>{console.log(p),O(`${p.response.status}: ${p.response.data.message}`,{type:"danger"}),n.value=p}),e.value=u(`/${t.path}`)},{immediate:!0}),{qualifier:t,token:a,parentPath:e,files:s,isEmpty:l,isErrored:n,isDirectory:r,createURL:U}}},bo={class:"bg-gray-100"},yo={class:"bg-gray-100 dark:bg-black"},ko={class:"container mx-auto"},xo={class:"pt-7 pb-3 pl-2 font-semibold"},$o=i("span",{class:"select-none"},"Index of ",-1),wo={class:"select-text"},Io=i("span",{class:"font-normal text-xl text-gray-500 select-none"}," \u2934 ",-1),To={class:"dark:bg-black"},Eo={class:"container mx-auto relative min-h-320px"},Lo={class:"lg:absolute pt-5 -top-5 right-8"},So={class:"pt-4"},Co=["href"],Mo={key:0},Oo=i("p",null,"Directory is empty",-1),qo=[Oo],Vo={key:1},Ao=i("p",null,"Directory not found",-1),Po=[Ao];function Ro(o,t,a,e,s,l){const n=m("router-link"),r=m("Card"),u=m("Entry");return d(),_("div",bo,[i("div",yo,[i("div",ko,[i("p",xo,[$o,i("span",wo,w(o.$route.path),1),g(n,{to:e.parentPath},{default:v(()=>[Io]),_:1},8,["to"])])])]),i("div",To,[i("div",Eo,[i("div",Lo,[g(r,{qualifier:e.qualifier,token:e.token},null,8,["qualifier","token"])]),i("div",So,[(d(!0),_(V,null,A(e.files,c=>(d(),_("div",{key:c},[e.isDirectory(c)?(d(),E(n,{key:0,to:o.append(o.$route.path,c.name)},{default:v(()=>[g(u,{file:c},null,8,["file"])]),_:2},1032,["to"])):(d(),_("a",{key:1,href:e.createURL(o.$route.path+"/"+c.name),target:"_blank"},[g(u,{file:c},null,8,["file"])],8,Co))]))),128)),e.isEmpty?(d(),_("div",Mo,qo)):C("",!0),e.isErrored?(d(),_("div",Vo,Po)):C("",!0)])])])])}var Bo=b(vo,[["render",Ro]]);const jo={},Do={class:"container mx-auto pt-10 px-15"},Ho=i("i",null,"Endpoints :: soon\u2122",-1),zo=[Ho];function No(o,t){return d(),_("div",Do,zo)}var Uo=b(jo,[["render",No]]);const me=["Other","Trace","Debug","Info","Warn","Error"],X=M({}),ge=h(""),Wo=h(0),F=M([]),Go=new Ce,Ko=o=>{var t;return(t=me.find(a=>o.includes(` | ${a.toUpperCase()} | `)))!=null?t:"Other"},fe=o=>Go.toHtml(o.replaceAll("<","&lt;").replaceAll(">","&gt;").replaceAll(" ","&nbsp;"));function Fo(){me.forEach(e=>{X[e]={name:e,enabled:!0,count:q(()=>F.reduce((s,l)=>s+(l.level===e),0))}});const o=q(()=>F.filter(e=>e.message.toLowerCase().includes(ge.value.toLowerCase())).filter(e=>X[e.level].enabled));return{levels:X,log:o,filter:ge,sanitizeMessage:fe,logMessage:e=>{F.push({id:Wo.value++,message:fe(e),level:Ko(e)})},clearLog:()=>{F.length=0}}}const y=h(),ee=h("");function Qo(){const o=U("/api/console/sock").replace("https","wss").replace("http","ws"),t=()=>{var c;return((c=y.value)==null?void 0:c.readyState)===WebSocket.OPEN},a=()=>{t()&&y.value.close()},e=()=>{y.value.send(ee.value),ee.value=""},s=h(),l=h(),n=h(),r=h();return{connection:y,connect:c=>{try{y.value=new WebSocket(o),y.value.onopen=()=>{y.value.send(`Authorization:${c.name}:${c.secret}`),s==null||s.value()},y.value.onmessage=p=>{p.data!="keep-alive"&&(l==null||l.value(p.data))},y.value.onerror=p=>n==null?void 0:n.value(p),y.value.onclose=()=>r==null?void 0:r.value();const f=setInterval(()=>{var p;t()?(p=y==null?void 0:y.value)==null||p.send("keep-alive"):clearInterval(f)},1e3*5)}catch(f){console.log(f),n==null||n.value(f)}},close:a,onOpen:s,onMessage:l,onError:n,onClose:r,command:ee,execute:e}}const Yo={props:{selectedTab:{type:Object,required:!0}},setup(o){const t=o.selectedTab,{levels:a,log:e,logMessage:s,filter:l,clearLog:n}=Fo(),{onOpen:r,onMessage:u,onClose:c,onError:f,connect:p,close:x,command:S,execute:I}=Qo();Me(()=>x());const $=()=>{const T=document.getElementById("console");T.scrollTop=T.scrollHeight},k=()=>{O("Connecting to the remote console",{type:"info"});const{token:T}=B();r.value=()=>n(),u.value=Q=>{s(Q),qe(()=>$())},f.value=Q=>O(`${Q||""}`,{type:"danger"}),c.value=()=>O("Connection with console has been lost",{type:"danger"}),p(T)};return j(()=>t.value,T=>T==="Console"?k():x(),{immediate:!0}),{log:e,command:S,execute:I,levels:a,filter:l}}},Zo={class:"container mx-auto pt-10 px-15 text-xs"},Jo={class:"flex text-sm flex-col xl:flex-row w-full py-2 justify-between"},Xo={class:"flex flex-row justify-around w-full xl:w-1/2"},en=["checked","onChange"],tn={class:"pl-2 pr-4"},on={class:"bg-white dark:bg-gray-900 rounded-lg"},nn={id:"console",class:"overflow-scroll h-144 px-4"},sn=["innerHTML"],an=i("hr",{class:"dark:border-dark-300"},null,-1);function rn(o,t,a,e,s,l){return d(),_("div",Zo,[i("div",Jo,[D(i("input",{placeholder:"Filter","onUpdate:modelValue":t[0]||(t[0]=n=>e.filter=n),class:"w-full xl:w-1/2 mr-5 py-1 px-4 rounded-lg bg-white dark:bg-gray-900"},null,512),[[H,e.filter]]),i("div",Xo,[(d(!0),_(V,null,A(e.levels,n=>(d(),_("div",{key:n.name,class:"pt-1.9 xl:pt-0.8 font-sans"},[i("input",{type:"checkbox",checked:n.enabled,onChange:r=>n.enabled=!n.enabled},null,40,en),i("span",tn,w(n.name)+" ("+w(n.count)+")",1)]))),128))])]),i("div",on,[i("div",nn,[(d(!0),_(V,null,A(e.log,n=>(d(),_("p",{key:n.id,innerHTML:n.message,class:"whitespace-nowrap"},null,8,sn))),128))]),an,D(i("input",{placeholder:"Type command or '?' to get help",class:"w-full py-2 px-4 rounded-b-lg bg-white dark:bg-gray-900 dark:text-white","onUpdate:modelValue":t[1]||(t[1]=n=>e.command=n),onKeyup:t[2]||(t[2]=Oe(n=>e.execute(),["enter"]))},null,544),[[H,e.command]])])])}var ln=b(Yo,[["render",rn]]);const cn={components:{Header:Qt,Browser:Bo,Endpoints:Uo,Console:ln},props:{qualifier:{type:Object,required:!0},token:{type:Object,required:!0},session:{type:Object,required:!0}},setup(o){const t=o.qualifier,a=o.token,e=o.session,{isManager:s}=B(),l=M({value:localStorage.getItem("selectedTab")||"Overview"});N(()=>localStorage.setItem("selectedTab",l.value));const n=[{name:"Overview"},{name:"Endpoints"},{name:"Console",manager:!0}],r=q(()=>n.filter(c=>!(c==null?void 0:c.manager)||s(e.details)).map(c=>c.name)),u=q(()=>r.value.some(c=>c=="Console"));return{qualifier:t,token:a,isManager:s,menuTabs:r,consoleEnabled:u,selectedTab:l}}},dn=o=>(le("data-v-63b115f1"),o=o(),ie(),o),un={class:"bg-gray-100 dark:bg-black"},pn={class:"container mx-auto"},_n=dn(()=>i("hr",{class:"dark:border-gray-700"},null,-1)),mn={class:"overflow-auto"};function gn(o,t,a,e,s,l){const n=m("Header"),r=m("tab"),u=m("tabs"),c=m("Browser"),f=m("tab-panel"),p=m("Endpoints"),x=m("Console"),S=m("tab-panels");return d(),_("div",null,[g(n,{token:e.token},null,8,["token"]),i("div",un,[i("div",pn,[g(u,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[0]||(t[0]=I=>e.selectedTab.value=I)},{default:v(()=>[(d(!0),_(V,null,A(e.menuTabs,(I,$)=>(d(),E(r,{class:"item font-normal",key:`menu${$}`,val:I,label:I,indicator:!0},null,8,["val","label"]))),128))]),_:1},8,["modelValue"])]),_n,i("div",mn,[g(S,{modelValue:e.selectedTab.value,"onUpdate:modelValue":t[1]||(t[1]=I=>e.selectedTab.value=I),animate:!0},{default:v(()=>[g(f,{val:"Overview"},{default:v(()=>[g(c,{qualifier:e.qualifier,token:e.token,ref:""},null,8,["qualifier","token"])]),_:1}),g(f,{val:"Endpoints"},{default:v(()=>[g(p)]),_:1}),e.consoleEnabled?(d(),E(f,{key:0,val:"Console"},{default:v(()=>[g(x,{selectedTab:e.selectedTab},null,8,["selectedTab"])]),_:1})):C("",!0)]),_:1},8,["modelValue"])])])])}var fn=b(cn,[["render",gn],["__scopeId","data-v-63b115f1"]]);const hn=Ve({history:Ae(),routes:[{path:"/:qualifier(.*)",name:"Index",component:fn}]});const te=Pe(Qe);te.config.globalProperties.append=(o,t)=>o+(o.endsWith("/")?"":"/")+t;te.config.globalProperties.drop=o=>(o.endsWith("/")?o.slice(0,-1):o).split("/").slice(0,-1).join("/");te.use(Re()).use(Be,ae).use(je).use(hn).mount("#app");
