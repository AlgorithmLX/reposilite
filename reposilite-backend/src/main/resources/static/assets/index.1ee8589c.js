var e=Object.defineProperty,t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,o=(t,n,a)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,s=(e,s)=>{for(var r in s||(s={}))n.call(s,r)&&o(e,r,s[r]);if(t)for(var r of t(s))a.call(s,r)&&o(e,r,s[r]);return e};import{r,u as l,w as i,d as c,a as d,o as u,b as p,c as m,e as g,f,n as b,g as v,h,i as y,p as k,j as w,E as I,S as x,k as E,l as T,m as L,v as S,q as _,t as O,s as P,x as R,y as M,z as D,A as $,F as q,B as V,C as j,D as C,G as B,H as A,V as U,T as H}from"./vendor.3e02e7ac.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const G=r({isDark:!1});function N(){return{theme:G,fetchTheme:()=>{G.isDark="true"===localStorage.getItem("dark-theme")},toggleTheme:()=>{G.isDark=!G.isDark,localStorage.setItem("dark-theme",G.isDark)}}}const z=r({name:"",secret:""});function W(){const e=(e,t)=>{localStorage.setItem("session-token-name",e),z.name=e,localStorage.setItem("session-token-secret",t),z.secret=t};return{token:z,login:e,logout:()=>{e("","")},fetchSession:()=>{e(localStorage.getItem("session-token-name"),localStorage.getItem("session-token-secret"))},isLogged:()=>""!=z.name}}const K=r({watchable:0,path:""});const F=c({setup(){d({title:window.REPOSILITE_TITLE,description:window.REPOSILITE_DESCRIPTION});const{theme:e,fetchTheme:t}=N(),{token:n,fetchSession:a}=W(),{qualifier:o}=function(e){const t=l();return i((()=>t.params.qualifier),(async e=>{K.path=e,K.watchable++}),{immediate:!0}),i((()=>e.name),(async e=>{K.watchable++})),{qualifier:K}}(n);return u((()=>{t(),a()})),{theme:e,qualifier:o}}});F.render=function(e,t,n,a,o,s){const r=p("router-view");return m(),g("div",{class:b({dark:e.theme.isDark})},[f(r,{class:"min-h-screen dark:bg-black dark:text-white",qualifier:e.qualifier},null,8,["qualifier"])],2)};const Y={},J={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Q=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3.055 11H5a2 2 0 012 2v1a2 2 0 002 2 2 2 0 012 2v2.945M8 3.935V5.5A2.5 2.5 0 0010.5 8h.5a2 2 0 012 2 2 2 0 104 0 2 2 0 012-2h1.064M15 20.488V18a2 2 0 012-2h3.064M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1)];Y.render=function(e,t){return m(),g("svg",J,Q)};const X={components:{GlobeIcon:Y}},Z={class:"bg-gray-100 dark:bg-black"},ee={class:"container mx-auto flex flex-row"},te=v("div",{class:"w-35"},[v("img",{class:"border-2 rounded-full dark:border-gray-700",src:"https://avatars.githubusercontent.com/u/75123628?s=200&v=4"})],-1),ne={class:"flex flex-col justify-center px-10"},ae=v("div",null,[v("p",null,"Public Maven repository for Bookkity organization")],-1),oe={class:"flex flex-row py-2"},se=v("a",{class:"px-3 text-gray-500",href:"https://github.com/bookkity"},"https://github.com/bookkity",-1);X.render=function(e,t,n,a,o,s){const r=p("GlobeIcon");return m(),g("div",Z,[v("div",ee,[te,v("div",ne,[ae,v("div",oe,[f(r),se])])])])};const re={},le={class:"mx-2 py-1.5 rounded-full bg-white dark:bg-gray-900 font-bold px-6 text-sm cursor-pointer"};re.render=function(e,t){return m(),g("div",le,[h(e.$slots,"default")])};const ie=()=>window.location.protocol+"//"+location.host+window.REPOSILITE_BASE_PATH,ce=e=>(ie().endsWith("/")?ie().slice(0,-1):ie())+e,de=(e,t)=>{const n=(e,t)=>({auth:{username:e,password:t}}),a=(a,o)=>(o=o||(e&&t?n(e,t):{}),y.get(ce(a),s({},o)));return{createURL:ce,client:{auth:{me:(e,t)=>a("/api/auth/me",n(e,t))},maven:{details:e=>a("/api/maven/details/"+(e||""))}}}};const ue={inheritAttrs:!1,components:{VueFinalModal:I,ModalsContainer:x},setup(){const{login:e}=W(),{client:t}=de(),n=E(!1),a=E(""),o=E(""),s=()=>n.value=!1;return{name:a,secret:o,close:s,showLogin:n,signin:(n,a)=>{t.auth.me(n,a).then((e=>O(`Dashboard accessed as ${n}`,{position:"bottom-right"}))).then((t=>e(n,a))).then((e=>s())).catch((e=>{console.log(e),O(`${e.response.status}: ${e.response.data}`,{type:"danger"})}))}}}};k("data-v-e53b6cf4");const pe={class:"relative border bg-white dark:bg-gray-900 border-gray-100 dark:border-black m-w-20 py-5 px-10 rounded-2xl shadow-xl text-center"},me=v("p",{class:"font-bold text-xl pb-4"},"Login with access token",-1),ge={class:"flex flex-col w-96"},fe={class:"text-right mt-1"};w(),ue.render=function(e,t,n,a,o,s){const r=p("vue-final-modal");return m(),g("div",null,[f(r,_({modelValue:a.showLogin,"onUpdate:modelValue":t[5]||(t[5]=e=>a.showLogin=e)},e.$attrs,{classes:"flex justify-center items-center"}),{default:T((()=>[v("div",pe,[me,v("form",ge,[L(v("input",{placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>a.name=e),type:"text",class:"input"},null,512),[[S,a.name]]),L(v("input",{placeholder:"Secret","onUpdate:modelValue":t[1]||(t[1]=e=>a.secret=e),type:"password",class:"input"},null,512),[[S,a.secret]]),v("div",fe,[v("button",{onClick:t[2]||(t[2]=e=>a.close()),class:"text-blue-400 text-xs"},"← Back to index")]),v("div",{class:"bg-gray-100 dark:bg-gray-800 py-2 my-3 rounded-md cursor-pointer",onClick:t[3]||(t[3]=e=>a.signin(a.name,a.secret))},"Sign in")]),v("button",{class:"absolute top-0 right-0 mt-5 mr-5",onClick:t[4]||(t[4]=e=>a.close())},"🗙")])])),_:1},16,["modelValue"]),v("div",{onClick:t[6]||(t[6]=e=>a.showLogin=!0)},[h(e.$slots,"button",{},void 0,!0)])])},ue.__scopeId="data-v-e53b6cf4";const be={},ve={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},he=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)];be.render=function(e,t){return m(),g("svg",ve,he)};const ye={},ke={class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},we=[v("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)];ye.render=function(e,t){return m(),g("svg",ke,we)};const Ie={components:{MenuButton:re,LoginModal:ue,MoonIcon:be,SunIcon:ye},setup(){const{token:e,isLogged:t,logout:n}=W(),{theme:a,toggleTheme:o}=N();return{isLogged:t,signout:()=>n(),token:e,title:E(window.REPOSILITE_TITLE),theme:a,toggleTheme:o}}},xe={class:"flex flex-row"},Ee={key:0,class:"pt-1.1 px-2"},Te=D(" Welcome "),Le={class:"font-bold underline"},Se=D(" Sign in "),_e=D(" Logout ");Ie.render=function(e,t,n,a,o,s){const r=p("MenuButton"),l=p("LoginModal"),i=p("SunIcon"),c=p("MoonIcon");return m(),g("nav",xe,[a.isLogged()?(m(),g("div",Ee,[Te,v("span",Le,P(a.token.name),1)])):R("",!0),f(l,null,{button:T((()=>[a.isLogged()?R("",!0):(m(),M(r,{key:0},{default:T((()=>[Se])),_:1}))])),_:1}),a.isLogged()?(m(),M(r,{key:1,onClick:t[0]||(t[0]=e=>a.signout())},{default:T((()=>[_e])),_:1})):R("",!0),v("div",{class:"pl-2 pt-1.3 cursor-pointer rounded-full bg-white dark:bg-gray-900",onClick:t[1]||(t[1]=e=>a.toggleTheme())},[a.theme.isDark?(m(),M(i,{key:0,class:"mr-1.9"})):(m(),M(c,{key:1,class:"mr-1.5"}))])])};const Oe={components:{Hero:X,Menu:Ie},setup:()=>({title:window.REPOSILITE_TITLE})},Pe={class:"bg-gray-100 dark:bg-black dark:text-white"},Re={class:"container mx-auto flex flex-row py-10 justify-between"},Me={class:"text-xl font-medium py-1"};Oe.render=function(e,t,n,a,o,s){const r=p("router-link"),l=p("Menu"),i=p("Hero");return m(),g("header",Pe,[v("div",Re,[v("h1",Me,[f(r,{to:"/"},{default:T((()=>[D(P(a.title),1)])),_:1})]),f(l,{class:"mt-0.5"})]),f(i,{class:"pt-2 pb-11"})])};const De=[{name:"Maven",value:"\n<dependency>\n    <groupId>{groupId}</groupId>\n    <artifactId>{artifactId}</artifactId>\n    <version>{version}</version>\n</dependency>"},{name:"Gradle Groovy",value:'implementation "{groupId}:{artifactId}:{version}"'},{name:"Gradle Kotlin",value:'implementation("{groupId}:{artifactId}:{version}")'},{name:"SBT",value:'"{groupId}" %% "{artifactId}" %% "{version}"'}],$e={setup(){const e=r({selectedTab:De[0].name});return s({tabs:De},$(e))}},qe={class:"bg-white dark:bg-gray-900 shadow-lg p-7 dark:border-4 rounded-xl border-gray-100 dark:border-black"},Ve=v("div",{class:"flex flex-row justify-between"},[v("h1",{class:"font-bold"},"Artifact details")],-1),je=v("hr",{class:"dark:border-gray-800"},null,-1),Ce={class:"mt-6 p-4 mr-1 rounded-lg bg-gray-100 dark:bg-gray-900"},Be={class:"text-sm max-w-21"};$e.render=function(e,t,n,a,o,s){const r=p("tab"),l=p("tabs"),i=p("tab-panel"),c=p("tab-panels");return m(),g("div",qe,[Ve,f(l,{modelValue:e.selectedTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedTab=t),class:"pt-3"},{default:T((()=>[(m(!0),g(q,null,V(a.tabs,((e,t)=>(m(),M(r,{class:"buildtool py-1 px-2 cursor-pointer",key:`t${t}`,val:e.name,label:e.name,indicator:!0},null,8,["val","label"])))),128))])),_:1},8,["modelValue"]),je,f(c,{modelValue:e.selectedTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedTab=t),animate:!0},{default:T((()=>[(m(!0),g(q,null,V(a.tabs,((e,t)=>(m(),M(i,{key:`tp${t}`,val:e.name},{default:T((()=>[v("div",Ce,[v("pre",Be,P(e.value.trim()),1)])])),_:2},1032,["val"])))),128))])),_:1},8,["modelValue"])])};const Ae={props:{file:{type:Object,required:!0}},setup:e=>({file:e.file})},Ue={class:"flex flex-row mb-1.5 py-3 rounded-full bg-white dark:bg-gray-900 xl:max-w-1/2 cursor-pointer"},He={key:0,class:"text-xm px-6 pt-1.75"},Ge={key:1,class:"text-xm px-6 pt-1.75"},Ne={class:"font-semibold"};Ae.render=function(e,t,n,a,o,s){return m(),g("div",Ue,["DIRECTORY"==a.file.type?(m(),g("div",He,"⚫")):(m(),g("div",Ge,"⚪")),v("div",Ne,P(a.file.name),1)])};const ze={components:{Card:$e,Entry:Ae},props:{qualifier:{type:Object,required:!0}},setup(e){const t=e.qualifier,n=E(""),a=E([]),o=E(!1),s=E(void 0);return i((()=>t.watchable),(async e=>{const{token:r}=W(),{client:l}=de(r.name,r.secret);var i;l.maven.details(t.path).then((e=>{a.value=e.data.files,o.value=0==a.value.length,s.value=void 0})).catch((e=>{O(`${e.response.status}: ${e.response.data.message}`,{type:"danger"}),console.log(e),s.value=e})),n.value=((i=`/${t.path}`).endsWith("/")?i.slice(0,-1):i).split("/").slice(0,-1).join("/")||"/"}),{immediate:!0}),{parentPath:n,files:a,isEmpty:o,isErrored:s,isDirectory:e=>"DIRECTORY"==e.type,createURL:ce}}},We={class:"bg-gray-100"},Ke={class:"bg-gray-100 dark:bg-black"},Fe={class:"container mx-auto"},Ye={class:"pt-7 pb-3 pl-2 font-semibold"},Je=v("span",{class:"select-none"},"Index of ",-1),Qe={class:"select-text"},Xe=v("span",{class:"font-normal text-xl text-gray-500 select-none"}," ⤴ ",-1),Ze={class:"dark:bg-black"},et={class:"container mx-auto relative"},tt={class:"lg:absolute pt-5 -top-5 right-8"},nt={class:"pt-4"},at=["href"],ot={key:0},st=[v("p",null,"Directory is empty",-1)],rt={key:1},lt=[v("p",null,"Directory not found",-1)];ze.render=function(e,t,n,a,o,s){const r=p("router-link"),l=p("Card"),i=p("Entry");return m(),g("div",We,[v("div",Ke,[v("div",Fe,[v("p",Ye,[Je,v("span",Qe,P(e.$route.path),1),f(r,{to:a.parentPath},{default:T((()=>[Xe])),_:1},8,["to"])])])]),v("div",Ze,[v("div",et,[v("div",tt,[f(l)]),v("div",nt,[(m(!0),g(q,null,V(a.files,(t=>(m(),g("div",{key:t},[a.isDirectory(t)?(m(),M(r,{key:0,to:e.append(e.$route.path,t.name)},{default:T((()=>[f(i,{file:t},null,8,["file"])])),_:2},1032,["to"])):(m(),g("a",{key:1,href:a.createURL(e.$route.path+"/"+t.name),target:"_blank"},[f(i,{file:t},null,8,["file"])],8,at))])))),128)),a.isEmpty?(m(),g("div",ot,st)):R("",!0),a.isErrored?(m(),g("div",rt,lt)):R("",!0)])])])])};const it={setup(){const e=location.protocol+"//"+location.host;return{configurations:[{type:"Maven",snippet:`\n        <repository>\n            <name>${window.REPOSILITE_TITLE}</name>\n            <id>${window.REPOSILITE_ID}</id>\n            <url>${e}</url>\n        </repository>\n        `},{type:"Gradle Groovy",snippet:`\n        maven {\n            url "${e}"\n        }\n        `},{type:"Gradle Kotlin",snippet:`\n        maven {\n            url = uri("${e}")\n        }\n        `},{type:"SBT",snippet:`\n        resolvers += "${window.REPOSILITE_TITLE}" at "${e}"\n        `}],trim:e=>{const t=e.length-e.trimStart().length-1;return e.split("\n").map((e=>e.substring(t))).join("\n").replace("#/","").trim()}}}},ct={class:"container mx-auto pt-10 pb-6 px-6"},dt={class:"text-lg font-bold"},ut={class:"my-4 py-4 px-6 rounded-lg shadow-md text-sm bg-gray-50 dark:bg-gray-900 justify-items-center"};it.render=function(e,t,n,a,o,s){return m(),g("div",ct,[(m(!0),g(q,null,V(a.configurations,(e=>(m(),g("div",{key:e.type,class:"px-7"},[v("h1",dt,P(e.type),1),v("pre",ut,P(a.trim(e.snippet)),1)])))),128))])};const pt={},mt={class:"container mx-auto pt-10 px-6"},gt=[v("i",null,"Endpoints :: soon™",-1)];pt.render=function(e,t){return m(),g("div",mt,gt)};const ft={components:{Header:Oe,Browser:ze,Usage:it,Endpoints:pt},props:{qualifier:{type:Object,required:!0}},setup(e){const t=e.qualifier,n=["Overview","Usage","Endpoints"],a=r({selectedMenuTab:n[0]});return s({menuTabs:n,qualifier:t},$(a))}};k("data-v-e8479b80");const bt={class:"bg-gray-100 dark:bg-black"},vt={class:"container mx-auto"},ht=v("hr",{class:"dark:border-gray-700"},null,-1),yt={class:"overflow-auto"};w(),ft.render=function(e,t,n,a,o,s){const r=p("Header"),l=p("tab"),i=p("tabs"),c=p("Browser"),d=p("tab-panel"),u=p("Usage"),b=p("Endpoints"),h=p("tab-panels");return m(),g("div",null,[f(r),v("div",bt,[v("div",vt,[f(i,{modelValue:e.selectedMenuTab,"onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedMenuTab=t)},{default:T((()=>[(m(!0),g(q,null,V(a.menuTabs,((e,t)=>(m(),M(l,{class:"item font-normal",key:`menu${t}`,val:e,label:e,indicator:!0},null,8,["val","label"])))),128))])),_:1},8,["modelValue"])]),ht,v("div",yt,[f(h,{modelValue:e.selectedMenuTab,"onUpdate:modelValue":t[1]||(t[1]=t=>e.selectedMenuTab=t),animate:!0},{default:T((()=>[f(d,{val:"Overview"},{default:T((()=>[f(c,{qualifier:a.qualifier,ref:""},null,8,["qualifier"])])),_:1}),f(d,{val:"Usage"},{default:T((()=>[f(u)])),_:1}),f(d,{val:"Endpoints"},{default:T((()=>[f(b)])),_:1})])),_:1},8,["modelValue"])])])])},ft.__scopeId="data-v-e8479b80";const kt=j({history:C(),routes:[{path:"/:qualifier(.*)",name:"Index",component:ft}]}),wt=!"{{REPOSILITE.BASE_PATH}}".includes("REPOSILITE.BASE_PATH");window.REPOSILITE_BASE_PATH=wt?"{{REPOSILITE.BASE_PATH}}":"/",window.REPOSILITE_ID=wt?"{{REPOSILITE.ID}}":"reposilite-repository",window.REPOSILITE_TITLE=wt?"{{REPOSILITE.TITLE}}":"Reposilite Repository",window.REPOSILITE_DESCRIPTION=wt?"{{REPOSILITE.DESCRIPTION}}":"Default description";const It=B(F);It.config.globalProperties.append=(e,t)=>e+(e.endsWith("/")?"":"/")+t,It.config.globalProperties.drop=e=>(e.endsWith("/")?e.slice(0,-1):e).split("/").slice(0,-1).join("/"),It.use(A()).use(U,y).use(H).use(kt).mount("#app");
